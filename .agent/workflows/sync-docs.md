---
description: /docs 디렉토리의 모든 문서를 실제 시스템 상태와 100% 동기화합니다
---

# /sync-docs 워크플로우

문서화 동기화 지침: 시스템 전역 문서 최신화

**역할:** 시니어 시스템 아키텍트 및 리드 테크니컬 라이터로서 실제 시스템 상태와 `/docs` 디렉토리 내 문서 간 100% 동기화를 보장합니다.

---

## 사용법

```
/sync-docs
```

---

## 작업 범위

1. **전수 감사 (Comprehensive Audit):** `/docs` 디렉토리 내 모든 기존 문서를 스캔하고 분석합니다.
2. **격차 분석 (Gap Analysis):** 현재 문서를 실제 구현(코드베이스, 내러티브 로직, 데이터베이스 스키마, 그래프 시각화 모듈)과 비교합니다.
3. **리팩토링 및 동기화 (Refactor & Synchronize):** 최신 아키텍처 변경 사항, 기능 구현(예: 내러티브 조작, 인과 추적), 기술 명세를 반영하여 모든 문서를 업데이트합니다.

---

## 워크플로우 단계

### 1. 문서 디렉토리 전수 스캔

// turbo

```bash
# /docs 전체 구조 파악
find docs -type f -name "*.md" | head -50
```

**확인 대상 디렉토리:**

- `docs/architecture/` - 시스템 아키텍처 문서
- `docs/design/` - 설계 문서
- `docs/spec/` - 기술 명세서
- `docs/workflow/` - 워크플로우 문서
- `docs/logs/` - 로그 문서

### 2. 실제 구현 상태 파악

// turbo

```bash
# 핵심 코드베이스 구조 분석
tree src -I node_modules -L 3

# 주요 타입 정의 확인
cat src/types/index.ts 2>/dev/null || ls src/types/

# 핵심 훅/서비스 목록
ls src/hooks/
ls src/services/
```

### 3. 격차 분석 수행

각 문서 파일에 대해 다음을 확인:

- [ ] 문서에 언급된 기능이 실제로 구현되어 있는가?
- [ ] 코드에 존재하는 기능이 문서에 누락되어 있는가?
- [ ] 타입/인터페이스 정의가 문서와 일치하는가?
- [ ] API 엔드포인트, 스키마가 현재 구현과 동일한가?

### 4. 구현 및 업데이트 계획 수립

> [!IMPORTANT]
> 문서와 실제 코드베이스 간 중대한 불일치가 발견될 경우, 최종 문서 재작성 전에 **반드시** "구현 및 업데이트 계획"을 먼저 초안합니다.

**계획서 작성 위치:** `.gemini/antigravity/brain/{conversation-id}/implementation_plan.md`

**계획서 필수 포함 사항:**

- 발견된 모든 불일치 목록
- 각 불일치에 대한 수정 방침
- 영향받는 문서 파일 목록
- 예상 작업량

### 5. 문서 동기화 실행

**문서별 작업:**

1. 해당 문서가 참조하는 모든 코드 파일 확인
2. 코드 구현과 문서 내용 비교
3. 불일치 항목 수정
4. 누락된 기능/변경사항 추가

### 6. 검증

```bash
# 마크다운 린트 (설치된 경우)
npx markdownlint-cli docs/**/*.md --fix 2>/dev/null || echo "markdownlint 미설치"

# 깨진 링크 확인
grep -r "\[.*\](.*\.md)" docs/ | head -20
```

---

## 작업 프로토콜

### 논리적 엄격성 (Logical Rigor)

- 어떤 파일도 건너뛰지 않습니다.
- 내러티브 로직 또는 시스템 아키텍처의 잠재적 불일치에 대해 모든 기술적 세부사항을 검토합니다.

### 깊이 우선 (Depth over Speed)

- 정확성과 정보의 깊이를 우선시합니다.
- 문서의 모든 주장은 프로젝트의 현재 상태로 검증 가능해야 합니다.

---

## 출력 제약사항

| 항목 | 규칙                                              |
| :--- | :------------------------------------------------ |
| 언어 | 엄격하게 공식적이고 전문적인 한국어(한글)         |
| 어조 | 객관적, 기술적, 직접적. 은유나 모호한 표현 지양   |
| 서식 | 명확한 제목, 글머리 기호가 있는 구조화된 마크다운 |
| 수식 | 형식 논리 또는 수학적 변수에는 LaTeX 사용         |

---

## 체크리스트

- [ ] `/docs` 내 모든 .md 파일 스캔 완료
- [ ] 각 문서의 코드 참조 검증 완료
- [ ] 격차 분석 결과 문서화
- [ ] 불일치 항목 수정 완료
- [ ] 누락 기능 문서화 완료
- [ ] 최종 마크다운 형식 검증
