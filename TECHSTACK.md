# StoLink 프론트엔드 기술 스택

> **최종 수정**: 2024년 12월 25일
> 작가용 웹 에디터 플랫폼을 위한 기술 스택 정의

---

## 1. 핵심 프레임워크

| 기술           | 버전 | 선정 이유                                                  |
| -------------- | ---- | ---------------------------------------------------------- |
| **React**      | 19.x | 컴포넌트 기반 UI, 거대한 생태계, 팀 경험                   |
| **TypeScript** | 5.x  | 타입 안정성, 자동완성, 리팩토링 용이, 대규모 프로젝트 필수 |
| **Vite**       | 7.x  | 빠른 HMR, 빌드 속도, CRA 대비 10배 이상 빠름               |

---

## 2. 스타일링

| 기술                    | 버전   | 선정 이유                                                           |
| ----------------------- | ------ | ------------------------------------------------------------------- |
| **Tailwind CSS**        | 3.x    | 유틸리티 퍼스트, 빠른 개발, 일관된 디자인 시스템                    |
| **shadcn/ui**           | latest | 커스터마이징 가능한 컴포넌트, Radix 기반 접근성, 복사-붙여넣기 방식 |
| **tailwind-merge**      | 2.x    | Tailwind 클래스 충돌 해결                                           |
| **clsx**                | 2.x    | 조건부 클래스 결합                                                  |
| **tailwindcss-animate** | 1.x    | shadcn/ui 애니메이션 의존성                                         |

### shadcn/ui 사용 컴포넌트

```
Button, Input, Textarea, Select, Checkbox, Radio
Dialog, Sheet, Dropdown, Popover, Tooltip
Tabs, Accordion, Card, Badge, Avatar
Toast, Alert, Progress, Skeleton
Command (검색/자동완성), ContextMenu (우클릭 메뉴)
```

---

## 3. 상태 관리

| 기술                | 버전 | 용도        | 선정 이유                                                 |
| ------------------- | ---- | ----------- | --------------------------------------------------------- |
| **Zustand**         | 5.x  | 전역 상태   | 간결한 API, 보일러플레이트 최소, Redux 대비 80% 코드 감소 |
| **TanStack Query**  | 5.x  | 서버 상태   | 캐싱, 자동 리패칭, 낙관적 업데이트, 무한 스크롤           |
| **React Hook Form** | 7.x  | 폼 상태     | 비제어 컴포넌트 기반, 리렌더링 최소화, 검증 통합          |
| **Zod**             | 3.x  | 스키마 검증 | TypeScript 통합, React Hook Form 연동                     |

### 상태 분리 전략

```
┌─────────────────────────────────────────────────────────┐
│                     상태 유형별 도구                      │
├─────────────────────────────────────────────────────────┤
│  서버 상태 (API 데이터)     →  TanStack Query           │
│  전역 UI 상태 (사이드바 등)  →  Zustand                  │
│  폼 상태 (입력값, 검증)     →  React Hook Form + Zod    │
│  로컬 컴포넌트 상태         →  useState                  │
│  에디터 상태 (문서 내용)    →  Tiptap 내장 상태          │
└─────────────────────────────────────────────────────────┘
```

---

## 4. 에디터 ⭐ (핵심)

| 기술                                  | 버전 | 선정 이유                                           |
| ------------------------------------- | ---- | --------------------------------------------------- |
| **Tiptap**                            | 2.x  | ProseMirror 기반, 확장성, React 통합, 마크다운 지원 |
| **@tiptap/starter-kit**               | 2.x  | 기본 익스텐션 번들                                  |
| **@tiptap/extension-placeholder**     | 2.x  | 플레이스홀더 텍스트                                 |
| **@tiptap/extension-highlight**       | 2.x  | 복선 태그 하이라이트                                |
| **@tiptap/extension-mention**         | 2.x  | `#복선:` 자동완성                                   |
| **@tiptap/extension-character-count** | 2.x  | 글자수 카운터                                       |

### Tiptap 선정 이유 상세

1. **커스텀 노드/마크 생성 용이** - `#복선:태그명` 같은 커스텀 문법 구현 가능
2. **마크다운 양방향 변환** - 마크다운으로 저장, 렌더링 시 리치 텍스트
3. **협업 확장 (Y.js 통합)** - 향후 실시간 협업 기능 추가 용이
4. **헤드리스 아키텍처** - UI 완전 커스터마이징, shadcn/ui 통합

---

## 5. 라우팅

| 기술             | 버전 | 선정 이유                           |
| ---------------- | ---- | ----------------------------------- |
| **React Router** | 6.x  | 표준 라우팅, 중첩 라우트, 로더/액션 |

---

## 6. 데이터 시각화 (캐릭터 관계도)

| 기술           | 버전 | 선정 이유                               |
| -------------- | ---- | --------------------------------------- |
| **React Flow** | 11.x | React 네이티브, 인터랙티브, 커스텀 노드 |

### React Flow 선정 이유

- React 통합, 커스텀 노드 쉬움, 드래그/줌 내장
- Force-Directed 레이아웃, 옵시디언 스타일 디자인

---

## 7. HTTP 클라이언트

| 기술      | 버전 | 선정 이유                                   |
| --------- | ---- | ------------------------------------------- |
| **Axios** | 1.x  | 인터셉터, 에러 핸들링, 요청 취소, 타입 지원 |

---

## 8. 유틸리티

| 기술          | 버전 | 용도               | 선정 이유                        |
| ------------- | ---- | ------------------ | -------------------------------- |
| **date-fns**  | 3.x  | 날짜 처리          | 트리쉐이킹, moment 대비 경량     |
| **lodash-es** | 4.x  | 유틸 함수          | debounce, throttle, cloneDeep 등 |
| **uuid**      | 9.x  | 고유 ID 생성       | 클라이언트 측 임시 ID            |
| **diff**      | 5.x  | 텍스트 차이 계산   | 델타 저장용                      |
| **immer**     | 10.x | 불변 상태 업데이트 | Zustand와 함께 사용              |

---

## 9. 파일 처리

| 기술                          | 버전 | 용도           | 선정 이유                 |
| ----------------------------- | ---- | -------------- | ------------------------- |
| **react-dropzone**            | 14.x | 파일 업로드 UI | 드래그 앤 드롭, 파일 검증 |
| **browser-image-compression** | 2.x  | 이미지 압축    | 업로드 전 용량 최적화     |

---

## 10. 드래그 앤 드롭

| 기술                  | 버전 | 용도                | 선정 이유                  |
| --------------------- | ---- | ------------------- | -------------------------- |
| **@dnd-kit/core**     | 6.x  | 챕터 트리 순서 변경 | 접근성, 성능, React 최적화 |
| **@dnd-kit/sortable** | 8.x  | 정렬 기능           | 리스트/트리 정렬           |

---

## 11. 내보내기

| 기술            | 버전 | 용도          |
| --------------- | ---- | ------------- |
| **file-saver**  | 2.x  | 파일 다운로드 |
| **turndown**    | 7.x  | HTML→마크다운 |
| **docx**        | 8.x  | DOCX 생성     |
| **epub-gen**    | -    | EPUB 생성     |
| **html2pdf.js** | -    | PDF 생성      |

---

## 12. 애니메이션

| 기술              | 버전 | 용도          | 선정 이유                               |
| ----------------- | ---- | ------------- | --------------------------------------- |
| **Framer Motion** | 11.x | UI 애니메이션 | 선언적 API, 제스처, 레이아웃 애니메이션 |

---

## 13. 개발 도구

| 기술                  | 버전 | 용도                 |
| --------------------- | ---- | -------------------- |
| **ESLint**            | 8.x  | 코드 린팅            |
| **Prettier**          | 3.x  | 코드 포맷팅          |
| **Husky**             | 9.x  | Git 훅 (pre-commit)  |
| **lint-staged**       | 15.x | 스테이지 파일만 린트 |
| **TypeScript ESLint** | 7.x  | TS 린트 규칙         |

### ESLint 설정

```javascript
module.exports = {
  extends: [
    "eslint:recommended",
    "plugin:@typescript-eslint/recommended",
    "plugin:react-hooks/recommended",
    "prettier",
  ],
  rules: {
    "@typescript-eslint/no-unused-vars": "warn",
    "react-hooks/exhaustive-deps": "warn",
  },
};
```

---

## 14. 테스트 (선택적)

| 기술                | 버전 | 용도                        |
| ------------------- | ---- | --------------------------- |
| **Vitest**          | 1.x  | 단위 테스트 (Vite 네이티브) |
| **Testing Library** | 14.x | 컴포넌트 테스트             |
| **Playwright**      | 1.x  | E2E 테스트                  |
| **MSW**             | 2.x  | API 모킹                    |

---

## 15. 번들 최적화

| 기술                         | 용도                        |
| ---------------------------- | --------------------------- |
| **@vitejs/plugin-react-swc** | 빌드 속도 향상 (Babel 대체) |
| **rollup-plugin-visualizer** | 번들 크기 분석              |
| **vite-plugin-compression**  | gzip/brotli 압축            |

---

## 버전 이력

| 버전 | 날짜    | 변경 내용                                                           |
| ---- | ------- | ------------------------------------------------------------------- |
| 1.0  | 2024.12 | 최초 작성                                                           |
| 1.1  | 2024.12 | 공통 컴포넌트(Footer) 추가, 버튼 디자인 rounded-full 적용           |
| 1.2  | 2024.12 | React 19, Vite 7 업데이트, Repository 패턴 추가, Export 서비스 추가 |
| 1.3  | 2024.12 | 문서 정리 - 디렉토리/라우팅 섹션은 ARCHITECTURE.md로 이동           |

---

## 관련 문서

| 문서              | 내용                                   |
| ----------------- | -------------------------------------- |
| `ARCHITECTURE.md` | 프로젝트 구조, 라우팅, 상태관리        |
| `SPEC.md`         | 페이지 구성 및 기능 명세서             |
| `DATA_MODEL.md`   | 엔티티, DTO, API 명세                  |
| `CLAUDE.md`       | AI 인스트럭션 (코드 원칙, 커밋 컨벤션) |
