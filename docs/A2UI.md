# A2UI (Generative UI) 도입 전략: StoLink

## 개요

본 문서는 Google A2UI (Agent-to-User Interface)의 개념을 StoLink 프로젝트에 도입하기 위한 전략을 기술합니다.
StoLink의 핵심 철학인 **"작가의 Second Brain"**을 유지하며, AI가 창작을 대체하지 않고 **보조 및 생산성 향상**에 집중하는 형태의 Generative UI 활용 방안을 정의합니다.

> **핵심 원칙**:
>
> 1.  **AI as a Copilot**: AI는 초안을 대신 쓰지 않고, 작가의 설정을 검증하고 확장하는 도구로만 동작한다.
> 2.  **Stability First**: 에디터, 트리 등 핵심 UI는 고정(Static)하여 사용성을 해치지 않는다.
> 3.  **Dynamic on Demand**: 사용자가 필요로 하는 순간(분석, 제안)에만 동적 UI를 파생시킨다.

---

## 1. 보류: 동적 캐릭터 설정 (Dynamic Data Collection)

- **아이디어**: 캐릭터 특성에 따라 입력 폼이 변하는 UI.
- **검토 의견**: **도입 보류**.
  - **이유**: 에디터와 설정 도구는 사용자가 익숙해져야 생산성이 오르는 도구입니다. 매번 입력 필드의 위치나 모양이 바뀌면 사용자는 **인지 부조화(Confusion)**를 겪고 피로감을 느낄 수 있습니다. 정해진 스키마의 안정적인 UI가 더 적합합니다.

---

## 2. 채택: 맞춤형 집필 대시보드 (Adaptive Workflows)

- **아이디어**: 작가의 질문 의도에 맞춰 실시간으로 구성되는 분석 대시보드.
- **구현 전략**: **"Hybrid Dashboard"**
  - **초기 상태 (Default)**: 사용자의 혼란을 막기 위해 가장 기본적이고 자주 쓰이는 지표(글자 수, 집필 시간, 챕터 진행도)는 **고정된 UI**로 항상 보여줍니다.
  - **확장 영역 (AI Zone)**: 고정 대시보드 하단에 "무엇이든 물어보세요" 영역을 둡니다.
  - **시나리오**:
    - 유저: "이번 챕터 감정 기복이 너무 평이한가?"
    - AI: 질문을 분석하여 **[감정선 그래프]**와 **[긴장감 히트맵]** 컴포넌트를 즉석에서 선택·조합하여 하단 영역에 렌더링합니다.
    - 유저: "주인공이랑 조연 대화 비중은 어때?"
    - AI: 이번엔 **[대화 비중 파이 차트]**와 **[캐릭터별 대사량 리스트]**로 뷰를 교체합니다.

---

## 3. 핵심: 개연성 체크 및 제안 (Actionable Suggestions)

- **아이디어**: AI가 설정 오류나 개연성 문제를 발견하면, 수정 제안과 함께 **실행 가능한 UI(Action)**를 제공.
- **목적**: 단순 텍스트 조언("~하는 게 좋겠습니다")은 휘발되기 쉽습니다. 이를 실제 데이터로 연결해주는 **가교 역할**을 합니다.
- **구현 전략**:
  1.  **트리거**: 작가가 "개연성 검사 실행" 버튼 클릭 또는 AI 코파일럿 호출.
  2.  **분석**: 백엔드에서 설정(Neo4j)과 본문(PostgreSQL)을 대조 분석.
  3.  **Generative UI 응답**:
      - 단순 텍스트 피드백이 아닌, **[문제 카드]** 형태의 UI 생성.
      - **UI 구성 요소**:
        - **진단**: "3장에서 죽은 '엑스트라A'가 5장에서 다시 등장했습니다."
        - **제안 A (수정)**: "5장의 이름을 '엑스트라B'로 변경하시겠습니까?" -> **[일괄 변경 버튼]**
        - **제안 B (설정 변경)**: "혹시 부활 설정인가요? 설정집에 '부활' 키워드를 추가할까요?" -> **[설정 추가 미리보기 카드]**
  4.  **실행**: 유저가 **[일괄 변경 버튼]**이나 **[승인]**을 누르면 실제 DB 업데이트 수행.

---

## 기술적 접근 (MVP)

A2UI 라이브러리를 직접 쓰지 않더라도, React 생태계에서 유사한 패턴을 구현할 수 있습니다.

1.  **Component Catalog (Registry)**:
    - 프론트엔드에 `AnalysisCard`, `statChart`, `SuggestionAction`, `CharacterPreview` 등 미리 디자인된 '블록' 컴포넌트들을 만들어둡니다.
2.  **Server Response (JSON)**:
    - AI는 텍스트 대신 다음과 같은 JSON을 내뱉도록 프롬프트를 조정합니다.
    ```json
    {
      "type": "layout_vertical",
      "children": [
        {
          "component": "AnalysisCard",
          "props": {
            "title": "개연성 오류 발견",
            "severity": "high",
            "content": "..."
          }
        },
        {
          "component": "SuggestionAction",
          "props": {
            "actionType": "rename_character",
            "targetId": "...",
            "label": "이름 변경하기"
          }
        }
      ]
    }
    ```
3.  **Dynamic Renderer**:
    - 받은 JSON을 순회하며 매핑된 React 컴포넌트를 그립니다.

## 기대 효과

- **경험 개선**: "AI가 글을 써주는 것"이 아니라, "AI가 내 실수를 찾아주고 귀찮은 수정 작업을 원클릭으로 도와주는" 든든한 조수(Second Brain)로서의 경험 강화.
- **데이터 정합성**: 텍스트로만 존재하던 피드백을 실제 DB 액션으로 연결하여 설정 오류를 획기적으로 줄임.
